/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./client/chart.js":
/*!*************************!*\
  !*** ./client/chart.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"open\": () => (/* binding */ open)\n/* harmony export */ });\nvar content = document.querySelector(\"#content\");\n\nfunction open() {\n  // Themes begin\n  am4core.useTheme(am4themes_animated); // Themes end\n  // Create chart instance\n\n  var chart = am4core.create(content, am4charts.PieChart); // Add data\n\n  chart.data = [{\n    \"country\": \"Lithuania\",\n    \"litres\": 501.9\n  }, {\n    \"country\": \"Czechia\",\n    \"litres\": 301.9\n  }, {\n    \"country\": \"Ireland\",\n    \"litres\": 201.1\n  }, {\n    \"country\": \"Germany\",\n    \"litres\": 165.8\n  }, {\n    \"country\": \"Australia\",\n    \"litres\": 139.9\n  }, {\n    \"country\": \"Austria\",\n    \"litres\": 128.3\n  }, {\n    \"country\": \"UK\",\n    \"litres\": 99\n  }, {\n    \"country\": \"Belgium\",\n    \"litres\": 60\n  }, {\n    \"country\": \"The Netherlands\",\n    \"litres\": 50\n  }]; // Add and configure Series\n\n  var pieSeries = chart.series.push(new am4charts.PieSeries());\n  pieSeries.dataFields.value = \"litres\";\n  pieSeries.dataFields.category = \"country\";\n  pieSeries.slices.template.stroke = am4core.color(\"#fff\");\n  pieSeries.slices.template.strokeWidth = 2;\n  pieSeries.slices.template.strokeOpacity = 1; // This creates initial animation\n\n  pieSeries.hiddenState.properties.opacity = 1;\n  pieSeries.hiddenState.properties.endAngle = -90;\n  pieSeries.hiddenState.properties.startAngle = -90;\n}\n\n\n\n//# sourceURL=webpack://project1/./client/chart.js?");

/***/ }),

/***/ "./client/create.js":
/*!**************************!*\
  !*** ./client/create.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"open\": () => (/* binding */ open),\n/* harmony export */   \"close\": () => (/* binding */ close),\n/* harmony export */   \"getForm\": () => (/* binding */ getForm),\n/* harmony export */   \"restartScreen\": () => (/* binding */ restartScreen)\n/* harmony export */ });\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar userInput = document.querySelector('#userInput');\nvar title;\nvar instructions;\nvar questionForm;\nvar questionDiv;\nvar questionLabel;\nvar questionField;\nvar optionsDiv;\nvar optionLabels = [];\nvar optionFields = [];\nvar buttonsDiv;\nvar addBtn;\nvar removeBtn;\nvar submitDiv;\nvar submitBtn; //  <form id=\"nameForm\" action=\"/addUser\" method=\"post\">\n//    <label for=\"name\">Name: </label>\n//    <input id=\"nameField\" type=\"text\" name=\"name\" />\n//    <label for=\"age\">Age: </label>\n//    <input id=\"ageField\" type=\"number\" name=\"age\" min=\"0\" max=\"100\" step=\"1\" />\n//    <input type=\"submit\" value=\"Add User\" />\n//  </form>\n//  <form id=\"userForm\" action=\"/getUsers\" method=\"get\">\n//    <select id='urlField'>\n//      <option value='/getUsers'>/getUsers</option>\n//      <option value='/notReal'>/notReal</option>\n//    </select>\n//    <select id=\"methodSelect\">\n//      <option value=\"get\">GET</option>\n//      <option value=\"head\">HEAD</option>\n//    </select>\n//    <input type=\"submit\" value=\"Get User\" />\n//  </form>\n\nfunction open() {\n  if (title != null || instructions != null || questionForm != null || questionDiv != null || questionLabel != null || questionField != null || optionsDiv != null || optionLabels.length > 0 || optionFields.length > 0 || buttonsDiv != null || addBtn != null || removeBtn != null || submitDiv != null || submitBtn != null) {\n    return;\n  } // Title\n\n\n  title = document.createElement(\"h2\");\n  title.innerHTML = \"Create a poll!\";\n  userInput.appendChild(title); // Instructions\n\n  instructions = document.createElement(\"h3\");\n  instructions.innerHTML = \"Type in a question, and its possible answers.\";\n  userInput.appendChild(instructions); // Question form\n\n  questionForm = document.createElement(\"form\");\n  questionForm.id = \"questionForm\";\n  questionForm.action = \"/addPoll\";\n  questionForm.method = \"post\";\n  userInput.appendChild(questionForm); // Question div\n\n  questionDiv = document.createElement(\"div\");\n  questionDiv.id = \"questionDiv\";\n  questionForm.appendChild(questionDiv); // Question label\n\n  questionLabel = document.createElement(\"label\");\n  questionLabel.htmlFor = \"questionField\";\n  questionLabel.innerHTML = \"Question: \";\n  questionDiv.appendChild(questionLabel); // Question field\n\n  questionField = document.createElement(\"input\");\n  questionField.id = \"questionField\";\n  questionField.type = \"text\";\n  questionField.name = \"question\";\n  questionDiv.appendChild(questionField); // Options div\n\n  optionsDiv = document.createElement(\"div\");\n  optionsDiv.id = \"optionsDiv\";\n  questionForm.appendChild(optionsDiv);\n  addOption();\n  addOption();\n}\n\nfunction addOption() {\n  if (optionFields.length < 10) {\n    // Single option div\n    var optDiv = document.createElement(\"div\");\n    optDiv.id = \"singleOptsDiv\";\n    optionsDiv.appendChild(optDiv); // Option field\n\n    var optField = document.createElement(\"input\");\n    optField.id = \"optionField\";\n    optField.type = \"text\";\n    optField.name = \"option_\" + optionFields.length.toString(); // Option label\n\n    var optLabel = document.createElement(\"label\");\n    optLabel.htmlFor = \"option_\" + optionFields.length.toString();\n    optLabel.innerHTML = \"Option #\" + (optionLabels.length + 1).toString() + \": \";\n    optDiv.appendChild(optLabel);\n    optDiv.appendChild(optField);\n    optionLabels.push(optLabel);\n    optionFields.push(optField);\n    optionsDiv.appendChild(document.createElement(\"br\"));\n  }\n\n  addBtns();\n}\n\nfunction removeOption() {\n  if (optionFields.length > 2) {\n    var optDivs = optionsDiv.getElementsByTagName(\"div\"); // Remove last index of option labels and fields\n\n    optDivs[optDivs.length - 1].removeChild(optionFields[optionFields.length - 1]);\n    optionFields[optionFields.length - 1] = null;\n    optionFields.pop();\n    optDivs[optDivs.length - 1].removeChild(optionLabels[optionLabels.length - 1]);\n    optionLabels[optionLabels.length - 1] = null;\n    optionLabels.pop();\n    optionsDiv.removeChild(optDivs[optDivs.length - 1]);\n    var brs = optionsDiv.getElementsByTagName('br');\n    optionsDiv.removeChild(brs[brs.length - 1]);\n  }\n\n  addBtns();\n}\n\nfunction addBtns() {\n  // Removes 'Add option' button if already present\n  if (addBtn != null) {\n    buttonsDiv.removeChild(addBtn);\n    addBtn = null;\n  } // Removes 'Remove option' button if already present\n\n\n  if (removeBtn != null) {\n    buttonsDiv.removeChild(removeBtn);\n    removeBtn = null;\n  } // Removed 'buttonsDiv' if already present\n\n\n  if (buttonsDiv != null) {\n    questionForm.removeChild(buttonsDiv);\n    buttonsDiv = null;\n  } // Removes 'Submit' button if already present\n\n\n  if (submitBtn != null) {\n    submitDiv.removeChild(submitBtn);\n    submitBtn = null;\n  } // Removes submitDiv is already present\n\n\n  if (submitDiv != null) {\n    questionForm.removeChild(submitDiv);\n    submitDiv = null;\n  } // Creates buttonsDiv\n\n\n  buttonsDiv = document.createElement(\"div\");\n  buttonsDiv.id = \"buttonsDiv\";\n  questionForm.appendChild(buttonsDiv); // Creates 'Add option' button\n\n  addBtn = document.createElement(\"button\");\n  addBtn.id = \"addBtn\";\n  addBtn.innerHTML = \"Add an option\";\n  buttonsDiv.appendChild(addBtn);\n\n  addBtn.onclick = function () {\n    addOption();\n  }; // Creates 'Remove option' button\n\n\n  removeBtn = document.createElement(\"button\");\n  removeBtn.id = \"removeBtn\";\n  removeBtn.innerHTML = \"Remove an option\";\n  buttonsDiv.appendChild(removeBtn);\n\n  removeBtn.onclick = function () {\n    removeOption();\n  }; // Creates submitDiv\n\n\n  submitDiv = document.createElement(\"div\");\n  submitDiv.id = \"submitDiv\";\n  questionForm.appendChild(submitDiv); // Creates 'Submit' button\n\n  submitBtn = document.createElement(\"input\");\n  submitBtn.id = \"submitBtn\";\n  submitBtn.type = \"submit\";\n  submitBtn.value = \"Submit poll\";\n  submitDiv.appendChild(submitBtn);\n} // Closes screen\n\n\nfunction close() {\n  if (title == null || instructions == null || questionForm == null || questionDiv == null || questionLabel == null || questionField == null || optionsDiv == null || optionLabels.length == 0 || optionFields.length == 0 || buttonsDiv == null || addBtn == null || removeBtn == null || submitDiv == null || submitBtn == null) {\n    return;\n  }\n\n  submitDiv.removeChild(submitBtn);\n  submitBtn = null;\n  questionForm.removeChild(submitDiv);\n  submitDiv = null;\n  buttonsDiv.removeChild(removeBtn);\n  removeBtn = null;\n  buttonsDiv.removeChild(addBtn);\n  addBtn = null;\n  questionForm.removeChild(buttonsDiv);\n  buttonsDiv = null;\n  var optDivs = optionsDiv.getElementsByTagName(\"div\");\n\n  for (var i = 0; i < optionFields.length; i++) {\n    optDivs[i].removeChild(optionFields[i]);\n    optionFields[i] = null;\n  }\n\n  optionFields = [];\n\n  for (var _i = 0; _i < optionLabels.length; _i++) {\n    optDivs[_i].removeChild(optionLabels[_i]);\n\n    optionLabels[_i] = null;\n  }\n\n  optionLabels = [];\n\n  for (var _i2 = 0; _i2 < optDivs.length; _i2++) {\n    optionsDiv.removeChild(optDivs[_i2]);\n  }\n\n  questionForm.removeChild(optionsDiv);\n  optionsDiv = null;\n  questionDiv.removeChild(questionField);\n  questionField = null;\n  questionDiv.removeChild(questionLabel);\n  questionLabel = null;\n  questionForm.removeChild(questionDiv);\n  questionDiv = null;\n  userInput.removeChild(questionForm);\n  questionForm = null;\n  userInput.removeChild(instructions);\n  instructions = null;\n  userInput.removeChild(title);\n  title = null;\n}\n\nfunction getForm() {\n  return questionForm;\n} // Resets create screen\n\n\nfunction restartScreen() {\n  if (questionField == null || optionLabels.length == 0 || optionFields.length == 0) {\n    return;\n  } // If any of the fields are empty, return\n\n\n  if (questionField.value == \"\") {\n    return;\n  }\n\n  var _iterator = _createForOfIteratorHelper(optionFields),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var field = _step.value;\n\n      if (field.value == \"\") {\n        return;\n      }\n    } // Resets number of options to 2\n\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  while (optionFields.length > 2) {\n    removeOption();\n  } // Clears all text inside textfields\n\n\n  questionField.value = \"\";\n\n  var _iterator2 = _createForOfIteratorHelper(optionFields),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var _field = _step2.value;\n      _field.value = \"\";\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n}\n\n\n\n//# sourceURL=webpack://project1/./client/create.js?");

/***/ }),

/***/ "./client/main.js":
/*!************************!*\
  !*** ./client/main.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createBackButton\": () => (/* binding */ createBackButton),\n/* harmony export */   \"sendVote\": () => (/* binding */ sendVote),\n/* harmony export */   \"requestNotFound\": () => (/* binding */ requestNotFound)\n/* harmony export */ });\n/* harmony import */ var _create_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./create.js */ \"./client/create.js\");\n/* harmony import */ var _vote_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vote.js */ \"./client/vote.js\");\n/* harmony import */ var _chart_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chart.js */ \"./client/chart.js\");\n\n\n\nvar userInput = document.querySelector('#userInput');\nvar screen = 0;\nvar createBtn;\nvar voteBtn;\nvar backBtn;\n\nvar handleResponse = function handleResponse(xhr) {\n  var content = document.querySelector('#content');\n\n  switch (xhr.status) {\n    case 200:\n      content.innerHTML = '<b>Success!</b>';\n      break;\n\n    case 201:\n      content.innerHTML = '<b>Created!</b>';\n      break;\n\n    case 204:\n      content.innerHTML = '<b>Updated (No Content)!</b>';\n      break;\n\n    case 400:\n      content.innerHTML = '<b>Bad Request :(</b>';\n      break;\n\n    case 404:\n      content.innerHTML = '<b>Resource Not Found :(</b>';\n      break;\n\n    default:\n      content.innerHTML = '<p>Error code not implemented by client :(</p>';\n      break;\n  }\n\n  if (xhr.response && xhr.getResponseHeader('Content-Type') === 'application/json') {\n    var obj = JSON.parse(xhr.response); //console.dir(obj);\n\n    if (obj.polls) {\n      var pollsString = JSON.stringify(obj.polls);\n      content.innerHTML += \"<p>\".concat(pollsString, \"</p>\");\n\n      if (_vote_js__WEBPACK_IMPORTED_MODULE_1__.getSelectList() != null) {\n        _vote_js__WEBPACK_IMPORTED_MODULE_1__.setPolls(obj.polls);\n      }\n    } else if (obj.message) {\n      content.innerHTML += \"<p>Message: \".concat(obj.message, \"</p>\");\n    }\n  }\n};\n\nvar requestNotFound = function requestNotFound() {\n  //const url = userForm.querySelector('#urlField').value;\n  //const method = userForm.querySelector('#methodSelect').value;\n  var xhr = new XMLHttpRequest(); // xhr.open(method, url);\n\n  xhr.open('get', '/notFound');\n  xhr.setRequestHeader('Accept', 'application/json');\n\n  xhr.onload = function () {\n    return handleResponse(xhr);\n  };\n\n  xhr.send(); //e.preventDefault();\n\n  return false;\n};\n\nvar requestUpdate = function requestUpdate() {\n  //const url = userForm.querySelector('#urlField').value;\n  //const method = userForm.querySelector('#methodSelect').value;\n  var xhr = new XMLHttpRequest(); // xhr.open(method, url);\n\n  xhr.open('get', '/getPolls');\n  xhr.setRequestHeader('Accept', 'application/json');\n\n  xhr.onload = function () {\n    return handleResponse(xhr);\n  };\n\n  xhr.send(); //e.preventDefault();\n\n  return false;\n};\n\nvar sendPost = function sendPost(e, questionForm) {\n  e.preventDefault();\n  var action = questionForm.getAttribute('action');\n  var method = questionForm.getAttribute('method');\n  var questionField = questionForm.querySelector('#questionField'); // Getting all option elements inside 'questionForm'\n\n  var optionFields = questionForm.querySelectorAll('#optionField');\n  var xhr = new XMLHttpRequest();\n  xhr.open(method, action);\n  xhr.setRequestHeader('Accept', 'application/json');\n  xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\n  xhr.onload = function () {\n    return handleResponse(xhr);\n  };\n\n  var formData = \"question=\".concat(questionField.value); // Adding each option to the end of 'formData' string\n\n  for (var i = 0; i < optionFields.length; i++) {\n    formData += \"&option_\".concat(i, \"=\").concat(optionFields[i].value);\n  }\n\n  xhr.send(formData);\n  return false;\n};\n\nvar sendVote = function sendVote(e) {\n  e.preventDefault();\n  var xhr = new XMLHttpRequest();\n  xhr.open('post', '/addVote');\n  xhr.setRequestHeader('Accept', 'application/json');\n  xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\n  xhr.onload = function () {\n    return handleResponse(xhr);\n  };\n\n  var gotVote = _vote_js__WEBPACK_IMPORTED_MODULE_1__.getVote();\n  var formData = \"questionIndex=\".concat(gotVote[0], \"&optionIndex=\").concat(gotVote[1]);\n  xhr.send(formData);\n  return false;\n}; // Creates the main screen\n// Two buttons - create poll button and vote poll button\n\n\nvar openMainScreen = function openMainScreen() {\n  if (createBtn != null) {\n    return;\n  }\n\n  if (voteBtn != null) {\n    return;\n  } // Create button\n\n\n  createBtn = document.createElement(\"button\");\n  createBtn.id = \"createBtn\";\n  createBtn.innerHTML = \"Create a new poll\";\n  userInput.appendChild(createBtn); // Vote button\n\n  voteBtn = document.createElement(\"button\");\n  voteBtn.id = \"voteBtn\";\n  voteBtn.innerHTML = \"Vote in an existing poll\";\n  userInput.appendChild(voteBtn);\n  mainButtonFunc();\n}; // Closes the main screen\n// Called when transitioning to either create screen or vote screen\n\n\nvar closeMainScreen = function closeMainScreen() {\n  if (createBtn == null) {\n    return;\n  }\n\n  if (voteBtn == null) {\n    return;\n  } // Create button\n\n\n  userInput.removeChild(createBtn);\n  createBtn = null; // Vote button\n\n  userInput.removeChild(voteBtn);\n  voteBtn = null;\n}; // Creates back button\n// Called AFTER transitioning to create screen or vote screen\n\n\nvar createBackButton = function createBackButton() {\n  if (backBtn != null) {\n    removeBackButton();\n  }\n\n  backBtn = document.createElement(\"button\");\n  backBtn.id = \"backBtn\";\n  backBtn.innerHTML = \"Back to Main Menu\";\n  userInput.appendChild(backBtn);\n  backButtonFunc();\n}; // Removes back button\n// Called BEFORE transitioning back to main menu\n\n\nvar removeBackButton = function removeBackButton() {\n  if (backBtn == null) {\n    return;\n  }\n\n  userInput.removeChild(backBtn);\n  backBtn = null;\n}; // Opens screen depending on the screen number set in param\n\n\nvar openScreen = function openScreen(scr) {\n  switch (scr) {\n    case 0:\n      openMainScreen();\n      break;\n\n    case 1:\n      _create_js__WEBPACK_IMPORTED_MODULE_0__.open();\n      createFunc();\n      createBackButton();\n      break;\n\n    case 2:\n      _vote_js__WEBPACK_IMPORTED_MODULE_1__.open();\n      voteFunc();\n      createBackButton();\n      break;\n  }\n}; // Closes screen depending on the screen number set in param\n\n\nvar closeScreen = function closeScreen(scr) {\n  switch (scr) {\n    case 0:\n      closeMainScreen();\n      break;\n\n    case 1:\n      removeBackButton();\n      _create_js__WEBPACK_IMPORTED_MODULE_0__.close();\n      break;\n\n    case 2:\n      removeBackButton();\n      _vote_js__WEBPACK_IMPORTED_MODULE_1__.close();\n      break;\n  }\n}; // Transitions to new screen\n\n\nvar screenTransition = function screenTransition(newScr) {\n  closeScreen(screen);\n  screen = newScr;\n  openScreen(screen);\n}; // Adds functionality to main button\n\n\nvar mainButtonFunc = function mainButtonFunc() {\n  if (createBtn == null) {\n    return;\n  }\n\n  if (voteBtn == null) {\n    return;\n  }\n\n  createBtn.onclick = function () {\n    screenTransition(1);\n  };\n\n  voteBtn.onclick = function () {\n    screenTransition(2);\n  };\n}; // Adds functionality to back button\n\n\nvar backButtonFunc = function backButtonFunc() {\n  if (backBtn == null) {\n    return;\n  }\n\n  backBtn.onclick = function () {\n    screenTransition(0);\n  };\n};\n\nvar createFunc = function createFunc() {\n  var questionForm = _create_js__WEBPACK_IMPORTED_MODULE_0__.getForm();\n\n  var addPoll = function addPoll(e) {\n    return sendPost(e, questionForm);\n  };\n\n  questionForm.addEventListener('submit', addPoll);\n  questionForm.addEventListener('submit', function () {\n    _create_js__WEBPACK_IMPORTED_MODULE_0__.restartScreen();\n  });\n};\n\nvar voteFunc = function voteFunc() {\n  requestUpdate();\n};\n\nvar init = function init() {\n  // const userForm = document.querySelector('#userForm');\n  // const nameForm = document.querySelector('#nameForm');\n  // const getUsers = (e) => requestUpdate(e, userForm);\n  // const addUser = (e) => sendPost(e, nameForm);\n  // userForm.addEventListener('submit', getUsers);\n  // nameForm.addEventListener('submit', addUser);\n  openMainScreen();\n  _chart_js__WEBPACK_IMPORTED_MODULE_2__.open();\n};\n\nwindow.onload = init;\n\n\n//# sourceURL=webpack://project1/./client/main.js?");

/***/ }),

/***/ "./client/vote.js":
/*!************************!*\
  !*** ./client/vote.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"open\": () => (/* binding */ open),\n/* harmony export */   \"close\": () => (/* binding */ close),\n/* harmony export */   \"getSelectList\": () => (/* binding */ getSelectList),\n/* harmony export */   \"setPolls\": () => (/* binding */ setPolls),\n/* harmony export */   \"getVote\": () => (/* binding */ getVote)\n/* harmony export */ });\n/* harmony import */ var _main_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./main.js */ \"./client/main.js\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\nvar userInput = document.querySelector('#userInput');\nvar title;\nvar instructions;\nvar selectDiv;\nvar selectLabel;\nvar selectList;\nvar optionsDiv;\nvar optionButtons = [];\nvar selectedQuestion;\nvar selectedOption;\nvar submitDiv;\nvar submitBtn;\nvar polls;\nvar alreadyVoted = []; // Opens the vote screen\n\nfunction open() {\n  if (title != null || instructions != null || selectDiv != null || selectLabel != null || selectList != null || optionsDiv != null) {\n    return;\n  } // Title\n\n\n  title = document.createElement(\"h2\");\n  title.innerHTML = \"Vote in a poll!\";\n  userInput.appendChild(title); // Instructions\n\n  instructions = document.createElement(\"h3\");\n  instructions.innerHTML = \"Choose a poll to vote in, and submit your vote.\";\n  userInput.appendChild(instructions); // Select div\n\n  selectDiv = document.createElement(\"div\");\n  selectDiv.id = \"selectDiv\";\n  userInput.appendChild(selectDiv); // Select label\n\n  selectLabel = document.createElement(\"label\");\n  selectLabel.htmlFor = \"selectList\";\n  selectLabel.innerHTML = \"Select a poll: \";\n  selectDiv.appendChild(selectLabel); // Select list\n\n  selectList = document.createElement(\"select\");\n  selectList.id = \"selectList\";\n  selectList.name = \"selectList\";\n  selectDiv.appendChild(selectList); // Add default item in select list - <choose a poll>\n\n  var defaultOpt = document.createElement(\"option\");\n  defaultOpt.innerHTML = \"Choose a poll...\";\n  selectList.appendChild(defaultOpt);\n  var notFoundOpt = document.createElement(\"option\");\n  notFoundOpt.innerHTML = \"Poll not found...\";\n  selectList.appendChild(notFoundOpt); // Options div\n\n  optionsDiv = document.createElement(\"div\");\n  optionsDiv.id = \"optionsDiv\";\n  userInput.appendChild(optionsDiv);\n} // Add options\n// Called only AFTER a poll is selected in the dropdown list\n\n\nfunction addOptions(pollIndex) {\n  // If there are already options buttons, then remove them\n  if (optionButtons.length > 0) {\n    for (var i = 0; i < optionButtons.length; i++) {\n      optionsDiv.removeChild(optionButtons[i]);\n      optionButtons[i] = null;\n    }\n\n    optionButtons = [];\n  } // Removes 'Submit' button if already present\n\n\n  if (submitBtn != null) {\n    submitDiv.removeChild(submitBtn);\n    submitBtn = null;\n  } // Removes submitDiv is already present\n\n\n  if (submitDiv != null) {\n    userInput.removeChild(submitDiv);\n    submitDiv = null;\n  }\n\n  var options = polls[pollIndex].options;\n  var optionKeys = Object.keys(options); // Option buttons\n\n  var _loop = function _loop(_i) {\n    var optButton = document.createElement(\"button\");\n    optButton.innerHTML = options[_i].option;\n    optionsDiv.appendChild(optButton);\n    optButton.addEventListener('click', function () {\n      selectedOption = optionKeys[_i];\n      submitBtn.disabled = false;\n    });\n\n    if (alreadyVoted[pollIndex] == true) {\n      optButton.disabled = true;\n    }\n\n    optionButtons.push(optButton);\n  };\n\n  for (var _i = 0; _i < optionKeys.length; _i++) {\n    _loop(_i);\n  } // Creates submitDiv\n\n\n  submitDiv = document.createElement(\"div\");\n  submitDiv.id = \"submitDiv\";\n  userInput.appendChild(submitDiv); // Creates 'Submit' button\n\n  submitBtn = document.createElement(\"input\");\n  submitBtn.id = \"submitBtn\";\n  submitBtn.type = \"submit\";\n  submitBtn.value = \"Submit poll\";\n  submitDiv.appendChild(submitBtn);\n  submitBtn.disabled = true;\n  submitBtn.addEventListener('click', _main_js__WEBPACK_IMPORTED_MODULE_0__.sendVote);\n  submitBtn.addEventListener('click', function () {\n    submitBtn.disabled = true;\n    alreadyVoted[pollIndex] = true;\n    var optButtons = optionsDiv.getElementsByTagName(\"button\");\n\n    var _iterator = _createForOfIteratorHelper(optButtons),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var button = _step.value;\n        button.disabled = true;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  });\n  (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.createBackButton)();\n} // Closes the vote screen\n\n\nfunction close() {\n  if (title == null || instructions == null || selectDiv == null || selectLabel == null || selectList == null || optionsDiv == null) {\n    return;\n  }\n\n  if (submitBtn != null) {\n    submitDiv.removeChild(submitBtn);\n    submitBtn = null;\n  }\n\n  if (submitDiv != null) {\n    userInput.removeChild(submitDiv);\n    submitDiv = null;\n  }\n\n  for (var i = 0; i < optionButtons.length; i++) {\n    optionsDiv.removeChild(optionButtons[i]);\n    optionButtons[i] = null;\n  }\n\n  optionButtons = [];\n  userInput.removeChild(optionsDiv);\n  optionsDiv = null;\n  var opts = selectList.getElementsByTagName(\"option\");\n\n  var _iterator2 = _createForOfIteratorHelper(opts),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var opt = _step2.value;\n      selectList.removeChild(opt);\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  selectDiv.removeChild(selectList);\n  selectList = null;\n  selectDiv.removeChild(selectLabel);\n  selectLabel = null;\n  userInput.removeChild(selectDiv);\n  selectDiv = null;\n  userInput.removeChild(instructions);\n  instructions = null;\n  userInput.removeChild(title);\n  title = null;\n}\n\nfunction getSelectList() {\n  return selectList;\n}\n\nfunction setPolls(_polls) {\n  polls = Object.values(_polls);\n  var keys = Object.keys(polls);\n\n  for (var i = 0; i < polls.length; i++) {\n    var option = document.createElement(\"option\");\n    option.value = keys[i];\n    option.innerHTML = polls[i].question;\n    selectList.appendChild(option);\n    alreadyVoted.push(false);\n  }\n\n  selectList.onchange = function () {\n    if (selectList.selectedIndex < 2) {\n      clearOptions();\n\n      if (selectList.selectedIndex == 1) {\n        (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.requestNotFound)();\n      }\n\n      return;\n    }\n\n    selectedQuestion = selectList.options[selectList.selectedIndex].value;\n    selectedOption = null;\n    addOptions(selectList.options[selectList.selectedIndex].value);\n  };\n}\n\nfunction clearOptions() {\n  if (optionButtons.length > 0) {\n    for (var i = 0; i < optionButtons.length; i++) {\n      optionsDiv.removeChild(optionButtons[i]);\n      optionButtons[i] = null;\n    }\n\n    optionButtons = [];\n  }\n\n  if (submitBtn != null) {\n    submitDiv.removeChild(submitBtn);\n    submitBtn = null;\n  }\n\n  if (submitDiv != null) {\n    userInput.removeChild(submitDiv);\n    submitDiv = null;\n  }\n}\n\nfunction getVote() {\n  return [selectedQuestion, selectedOption];\n}\n\n\n\n//# sourceURL=webpack://project1/./client/vote.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	__webpack_require__("./client/main.js");
/******/ 	__webpack_require__("./client/create.js");
/******/ 	__webpack_require__("./client/vote.js");
/******/ 	var __webpack_exports__ = __webpack_require__("./client/chart.js");
/******/ 	
/******/ })()
;